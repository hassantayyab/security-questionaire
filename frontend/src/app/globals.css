@import 'tailwindcss';
@import 'tw-animate-css';

@custom-variant dark (&:is(.dark *));

@theme {
  --font-sans: 'Inter var', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji',
    'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
}

@layer base {
  * {
    @apply border-gray-200 outline-violet-600/50;
  }
  body {
    @apply bg-white text-gray-900 font-sans;
  }
}

@layer utilities {
  .line-clamp-1 {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    word-break: break-word;
  }

  .line-clamp-2 {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    overflow: hidden;
    text-overflow: ellipsis;
    word-break: break-word;
    hyphens: auto;
    white-space: normal;
    line-height: 1.5;
    max-height: calc(1.5em * 2); /* Ensure exactly 2 lines */
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    overflow: hidden;
    text-overflow: ellipsis;
    word-break: break-word;
  }

  /* Markdown content styling within line-clamp */
  .markdown-content {
    font-size: inherit;
    line-height: inherit;
  }

  .markdown-content p {
    margin: 0;
    display: inline;
  }

  .markdown-content * {
    line-height: inherit;
  }

  .markdown-content code {
    font-size: 0.875em;
  }

  .markdown-content strong,
  .markdown-content b {
    font-weight: 600;
  }

  .markdown-content em,
  .markdown-content i {
    font-style: italic;
  }

  /* Animation for newly generated answers */
  @keyframes glow {
    0%,
    100% {
      background-color: transparent;
    }
    50% {
      background-color: rgb(124 58 237 / 0.1);
    }
  }

  .answer-glow {
    animation: glow 2s ease-in-out 3 alternate;
  }

  /* Shimmer animation for skeleton loaders */
  @keyframes shimmer {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  .animate-shimmer {
    animation: shimmer 1.5s ease-in-out infinite;
  }
}
